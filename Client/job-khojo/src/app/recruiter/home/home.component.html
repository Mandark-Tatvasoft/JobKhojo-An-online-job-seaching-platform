<div class="container mt-5">
  <div class="d-flex justify-content-between">
    <h4 class="fw-medium">Jobs listed by you</h4>
    <a mat-flat-button routerLink="/recruiter/add-job"
      ><mat-icon fontIcon="add"></mat-icon>Add</a
    >
  </div>
  <div *ngFor="let item of jobs">
    <mat-card class="mb-3 position-relative card p-3 job-card">
      <mat-card-content>
        <div class="position-relative">
          <div (click)="openJob(item.job.jobId)">
            <h6 class="fs-5 fw-medium">{{ item.job.title }}</h6>
            <div class="p-2">
              <p class="fs-6 mb-4">{{ item.job.subtitle }}</p>
              <div class="d-flex align-items-center mb-2">
                <div class="openings d-flex align-items-center ms-2 me-3">
                  <mat-icon class="me-2">group</mat-icon
                  ><strong>{{ item.job.openings }}</strong>
                </div>
                |
                <div class="d-flex align-items-center ms-xxl-2 me-2">
                  <mat-icon class="me-2">currency_rupee</mat-icon
                  ><strong>{{ item.job.salary }}</strong>
                </div>
                |
                <div class="d-flex align-items-center ms-2 me-3">
                  <mat-icon class="me-2">laptop</mat-icon
                  ><strong>{{ getJobType(item.job.jobType) }}</strong>
                </div>
                |
                <div class="d-flex align-items-center ms-2 me-3">
                  <mat-icon class="me-2">place</mat-icon
                  ><strong>{{ getLocation(item.job.location) }}</strong>
                </div>
              </div>
              <div class="openings mb-0">
                No. of Applicants: <strong>{{ item.job.appliedBy }}</strong>
              </div>
            </div>
          </div>
          <div
            class="d-flex align-items-center position-absolute button-container"
          >
            <div>
              <button
                mat-flat-button
                (click)="editJob(item.job.jobId)"
                class="me-2"
              >
                Edit
              </button>
              <button
                mat-flat-button
                color="warn"
                (click)="openDeleteDialog(item.job.jobId)"
                class="elevate"
              >
                Delete
              </button>
            </div>
          </div>
        </div>
        <div class="mt-3">
          <mat-expansion-panel class="mat-elevation-z0">
            <mat-expansion-panel-header>
              <mat-panel-title
                ><span class="fs-5 fw-bold">Appliers</span></mat-panel-title
              >
            </mat-expansion-panel-header>
            <table class="table table-hover">
              <thead>
                <tr>
                  <th>Name</th>
                  <th>Email</th>
                  <th>Mobile No.</th>
                  <th class="text-center">Resume</th>
                </tr>
              </thead>
              <tbody>
                <tr *ngFor="let user of item.appliedUsers">
                  <td>{{ user.firstname + " " + user.lastname }}</td>
                  <td>{{ user.email }}</td>
                  <td>{{ user.mobile }}</td>
                  <td class="text-center">
                    <a
                      href="../../../assets/{{ user.resume }}"
                      mat-flat-button
                      color="primary"
                      target="_self"
                      download
                      ><mat-icon>download</mat-icon>Download</a
                    >
                  </td>
                </tr>
              </tbody>
            </table>
          </mat-expansion-panel>
        </div>
      </mat-card-content>
    </mat-card>
  </div>
</div>
